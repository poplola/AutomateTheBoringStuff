# sofia school picture download
import requests, os
from pathlib import Path

# url = "https://io.thislife.com/download?accessToken=eyJraWQiOiJpY1A4WExhT3B3cVlxQkdOXC9Bd1V1TFwvRU9BQVFHXC9Ic0hpSGZCMjFBbERFPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJiZjA0OGQ1Zi0zNGIyLTQ5MGMtYjY5Yy05YzlmODY5NjNkNWEiLCJjb2duaXRvOmdyb3VwcyI6WyJDb2duaXRvTmV3U2lnbnVwIl0sIm1sdF91aWQiOiIyNjFGNTA5Ny02NzkyLTRGNUMtOTNEMC04NUYyMDE3RjU4NzIiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9UbUh6b1E2OWoiLCJjb2duaXRvOnVzZXJuYW1lIjoiYmYwNDhkNWYtMzRiMi00OTBjLWI2OWMtOWM5Zjg2OTYzZDVhIiwiZ2l2ZW5fbmFtZSI6Ikxpc2EiLCJhdWQiOiJ0OG9paWY1Mm1lY2U2YmxlZWFzMnBvZjBuIiwiZXZlbnRfaWQiOiIwZjdmNzRjZC1jZDE5LTRiOWYtYjg4Yi1iZGJkMmMzNmVhYTUiLCJzZmx5X3VpZCI6IjAyNTAzNjkxMTIxNyIsInRva2VuX3VzZSI6ImlkIiwic2NvcGUiOiJwcm9maWxlIHVzZXIiLCJhdXRoX3RpbWUiOjE2MzQ1NzYwMzgsImV4cCI6MTYzNDU3OTY0MSwiaWF0IjoxNjM0NTc2MDQxLCJmYW1pbHlfbmFtZSI6IkdhbyIsImVtYWlsIjoibGlzYWdsakBjb21jYXN0Lm5ldCJ9.NWR96_NLa_3NmX0A-9_zmgWcSmoUlMKQSpAbdMiD8GgHQZM267tg3DYqWDvLZ-w8k9oiMsdZR_hrK-sZhlfPoIhvr6nut_pDs7q8DItsc8ibk8CVyhEMsdhP-GsM_faj5IDg1IdqS3wHk8Wmck31Zy0CxIWTghmqAw7AXFS2Eq3sIZKyVbUaf1cezlo36A_oTObOoml2BeAVL7iEpf5ml5kA80Skr3d9iqjz6uXLPgsBpuJO5q2rI9BklQeFdV98jx3lYD7K7CgvlnYwCt1pj_OUj70V9V7VsQdIq6X-p11McyVFTXk8Qf-LJpEiJkdBQO569edWh4j959iSgXW6uQ&momentId=1709834469507936"

url = "https://io.thislife.com/download?accessToken=eyJraWQiOiJpY1A4WExhT3B3cVlxQkdOXC9Bd1V1TFwvRU9BQVFHXC9Ic0hpSGZCMjFBbERFPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJiZjA0OGQ1Zi0zNGIyLTQ5MGMtYjY5Yy05YzlmODY5NjNkNWEiLCJjb2duaXRvOmdyb3VwcyI6WyJDb2duaXRvTmV3U2lnbnVwIl0sIm1sdF91aWQiOiIyNjFGNTA5Ny02NzkyLTRGNUMtOTNEMC04NUYyMDE3RjU4NzIiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9UbUh6b1E2OWoiLCJjb2duaXRvOnVzZXJuYW1lIjoiYmYwNDhkNWYtMzRiMi00OTBjLWI2OWMtOWM5Zjg2OTYzZDVhIiwiZ2l2ZW5fbmFtZSI6Ikxpc2EiLCJhdWQiOiJ0OG9paWY1Mm1lY2U2YmxlZWFzMnBvZjBuIiwiZXZlbnRfaWQiOiIwZjdmNzRjZC1jZDE5LTRiOWYtYjg4Yi1iZGJkMmMzNmVhYTUiLCJzZmx5X3VpZCI6IjAyNTAzNjkxMTIxNyIsInRva2VuX3VzZSI6ImlkIiwic2NvcGUiOiJwcm9maWxlIHVzZXIiLCJhdXRoX3RpbWUiOjE2MzQ1NzYwMzgsImV4cCI6MTYzNDU3OTY0MSwiaWF0IjoxNjM0NTc2MDQxLCJmYW1pbHlfbmFtZSI6IkdhbyIsImVtYWlsIjoibGlzYWdsakBjb21jYXN0Lm5ldCJ9.NWR96_NLa_3NmX0A-9_zmgWcSmoUlMKQSpAbdMiD8GgHQZM267tg3DYqWDvLZ-w8k9oiMsdZR_hrK-sZhlfPoIhvr6nut_pDs7q8DItsc8ibk8CVyhEMsdhP-GsM_faj5IDg1IdqS3wHk8Wmck31Zy0CxIWTghmqAw7AXFS2Eq3sIZKyVbUaf1cezlo36A_oTObOoml2BeAVL7iEpf5ml5kA80Skr3d9iqjz6uXLPgsBpuJO5q2rI9BklQeFdV98jx3lYD7K7CgvlnYwCt1pj_OUj70V9V7VsQdIq6X-p11McyVFTXk8Qf-LJpEiJkdBQO569edWh4j959iSgXW6uQ&momentId=1713734995739096"

response = requests.get(url)
response.raise_for_status
print(response.status_code)

folder_path = f"{Path.cwd()}/c16_CSV_and_JSON/"

imageFile = open(f"{folder_path}/pic2.jpg", "wb")
for chunk in response.iter_content(100000):
    imageFile.write(chunk)
imageFile.close()